AC_INIT
AM_INIT_AUTOMAKE(parker, 0.01)

AC_PROG_CXX
AM_PROG_LEX
AC_PROG_YACC

AC_ARG_WITH(omega,
        [  --with-omega=DIR   ])

AC_LANG(C++)

if test "x$with_omega" != "x"; then
    CPPFLAGS="-I$with_omega/include/omega $CPPFLAGS"
    LDFLAGS="-L$with_omega/lib $LDFLAGS"
else
    for i in /usr/include /usr/local/include; do
	if test -f $i/omega/omega.h; then
	    CPPFLAGS="-I$i/omega $CPPFLAGS"
	fi
    done
fi

AC_CHECK_HEADER(omega.h,[],[AC_MSG_ERROR(Can't find omega headers.)])

AC_OUTPUT(Makefile)
